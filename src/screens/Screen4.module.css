.screen {
  position: relative;
  width: 100%;
  min-height: 100vh;
  min-height: 100dvh;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Screen3 background */
.bg {
  position: absolute;
  inset: 0;
  background: url("/screen3/sc%203%20bg.png") center/cover no-repeat;
  z-index: 0;
}

/* CSS Variables for easy positioning adjustments - same as Screen2 */
:root {
  --clouds-width: 100%;
  --clouds-max-width: 1400px;
  --clouds-height: 55%;
  --clouds-max-height: 65vh;
  --clouds-top: 50%;
  --clouds-left: 50%;
  --clouds-transform-x: -50%;
  --clouds-transform-y: -70%;
  --clouds-z-index: 1;

  --bird-bg-width: 45%;
  --bird-bg-max-width: 1100px;
  --bird-bg-height: 45%;
  --bird-bg-max-height: 75vh;
  --bird-bg-top: 48%;
  --bird-bg-left: 50%;
  --bird-bg-transform-x: -50%;
  --bird-bg-transform-y: -80%;
  --bird-bg-z-index: 2;

  --bird-close-width: 50%;
  --bird-close-max-width: 1100px;
  --bird-close-height: 50%;
  --bird-close-max-height: 75vh;
  --bird-close-top: 48%;
  --bird-close-left: 50%;
  --bird-close-transform-x: -45%;
  --bird-close-transform-y: -65%;
  --bird-close-z-index: 3;

  --text-banner-width: 60%;
  --text-banner-max-width: 1200px;
  --text-banner-top: 65%;
  --text-banner-left: 50%;
  --text-banner-transform-x: -50%;
  --text-banner-transform-y: -50%;
  --text-banner-z-index: 4;
}

/* Clouds - positioned left and right, framing the bird */
.clouds {
  position: absolute;
  left: var(--clouds-left);
  top: var(--clouds-top);
  transform: translate(var(--clouds-transform-x), var(--clouds-transform-y));
  width: var(--clouds-width);
  max-width: var(--clouds-max-width);
  height: var(--clouds-height);
  max-height: var(--clouds-max-height);
  z-index: var(--clouds-z-index);
  pointer-events: none;
  display: flex;
  align-items: center;
  justify-content: center;
}

.clouds img {
  width: 100%;
  height: 100%;
  object-fit: contain;
}

/* Bird Background - red circle and bird base */
.birdBg {
  position: absolute;
  left: var(--bird-bg-left);
  top: var(--bird-bg-top);
  transform: translate(var(--bird-bg-transform-x), var(--bird-bg-transform-y));
  width: var(--bird-bg-width);
  max-width: var(--bird-bg-max-width);
  height: var(--bird-bg-height);
  max-height: var(--bird-bg-max-height);
  z-index: var(--bird-bg-z-index);
  pointer-events: none;
  display: flex;
  align-items: center;
  justify-content: center;
}

.birdBg img {
  width: 100%;
  height: 100%;
  object-fit: contain;
}

/* Bird Close - bird character details (helmet, scarf, sword) */
.birdClose {
  position: absolute;
  left: var(--bird-close-left);
  top: var(--bird-close-top);
  transform: translate(
    var(--bird-close-transform-x),
    var(--bird-close-transform-y)
  );
  width: var(--bird-close-width);
  max-width: var(--bird-close-max-width);
  height: var(--bird-close-height);
  max-height: var(--bird-close-max-height);
  z-index: var(--bird-close-z-index);
  pointer-events: none;
  display: flex;
  align-items: center;
  justify-content: center;
}

.birdClose img {
  width: 100%;
  height: 100%;
  object-fit: contain;
}

/* Text Banner - positioned in lower half */
.textBanner {
  position: absolute;
  left: var(--text-banner-left);
  top: var(--text-banner-top);
  transform: translate(
    var(--text-banner-transform-x),
    var(--text-banner-transform-y)
  );
  width: var(--text-banner-width);
  max-width: var(--text-banner-max-width);
  z-index: var(--text-banner-z-index);
  pointer-events: none;
  display: flex;
  align-items: center;
  justify-content: center;
}

.textBanner img {
  width: 100%;
  height: auto;
  object-fit: contain;
}

/* Banner text overlay */
.bannerText {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 85%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  z-index: 5;
}

.bannerLine {
  margin: 0;
  font-family: "Cinzel", "MedievalSharp", serif;
  font-weight: 700;
  font-size: 2.5rem;
  color: #3d2817;
  text-shadow:
    2px 2px 4px rgba(0, 0, 0, 0.3),
    0 0 6px rgba(255, 255, 255, 0.4);
  letter-spacing: 0.08em;
  line-height: 1.3;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 100%;
}

.cursor {
  display: inline-block;
  margin-left: 2px;
  animation: blink 0.8s step-end infinite;
}

@keyframes blink {
  50% {
    opacity: 0;
  }
}

/* Sun - appears before reward button */
.sun {
  position: absolute;
  top: 15%;
  left: 50%;
  transform: translateX(-50%);
  z-index: 5;
  pointer-events: none;
  display: flex;
  align-items: center;
  justify-content: center;
  animation:
    fadeIn 0.6s ease-out forwards,
    sunPulse 2s ease-in-out infinite;
}

.sun img {
  width: 140%;
  height: auto;
  object-fit: contain;
}

@keyframes sunPulse {
  0%,
  100% {
    transform: translateX(-50%) scale(1);
  }
  50% {
    transform: translateX(-50%) scale(1.15);
  }
}

/* Rabbits - slide in from sides toward banner */
.rabbitLeft {
  position: absolute;
  top: 70%;
  left: -20%;
  z-index: 5;
  pointer-events: none;
  display: flex;
  align-items: center;
  justify-content: center;
  animation: rabbitLeftIn 3.5s ease-in-out forwards;
}

.rabbitLeft img {
  width: 50%;
  height: auto;
  object-fit: contain;
}

.rabbitRight {
  position: absolute;
  top: 70%;
  right: -20%;
  z-index: 5;
  pointer-events: none;
  display: flex;
  align-items: center;
  justify-content: center;
  animation: rabbitRightIn 3.5s ease-in-out forwards;
}

.rabbitRight img {
  width: 50%;
  height: auto;
  object-fit: contain;
}

@keyframes rabbitLeftIn {
  from {
    left: -20%;
    opacity: 0;
  }
  to {
    left: 12%;
    opacity: 1;
  }
}

@keyframes rabbitRightIn {
  from {
    right: -20%;
    opacity: 0;
  }
  to {
    right: 12%;
    opacity: 1;
  }
}

/* Reward button - shown after third line */
.rewardButton {
  position: absolute;
  bottom: 10%;
  left: 50%;
  transform: translateX(-50%) translateY(40px);
  max-width: 25%;
  padding: 0;
  background: none;
  border: none;
  cursor: pointer;
  transition: transform 0.15s ease;
  z-index: 6;
  animation: fadeIn 0.6s ease-out forwards;
}

.rewardButton:hover {
  transform: translateX(-50%) translateY(40px) scale(1.05);
}

.rewardButton:active {
  transform: translateX(-50%) translateY(40px) scale(0.98);
}

.rewardButton img {
  width: 100%;
  height: auto;
  display: block;
}

/* Fade animations */
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

/* ---- Entrance animations (same as Screen2) ---- */

/* Initial: only clouds visible; rest hidden */
.screen:not(.animate) .birdBg,
.screen:not(.animate) .birdClose,
.screen:not(.animate) .textBanner,
.screen:not(.animate) .bannerText,
.screen:not(.animate) .sun,
.screen:not(.animate) .rabbitLeft,
.screen:not(.animate) .rabbitRight,
.screen:not(.animate) .rewardButton {
  opacity: 0;
  pointer-events: none;
}

/* Clouds: in from top */
@keyframes cloudsIn {
  from {
    transform: translate(var(--clouds-transform-x), -170%);
    opacity: 0;
  }
  to {
    transform: translate(var(--clouds-transform-x), var(--clouds-transform-y));
    opacity: 1;
  }
}

/* Bird bg: in from bottom */
@keyframes birdBgIn {
  from {
    transform: translate(var(--bird-bg-transform-x), 50%);
    opacity: 0;
  }
  to {
    transform: translate(
      var(--bird-bg-transform-x),
      var(--bird-bg-transform-y)
    );
    opacity: 1;
  }
}

/* Bird close: fade in after bird bg */
@keyframes birdCloseIn {
  from {
    opacity: 0;
    transform: translate(
        var(--bird-close-transform-x),
        var(--bird-close-transform-y)
      )
      scale(0.9);
  }
  to {
    opacity: 1;
    transform: translate(
      var(--bird-close-transform-x),
      var(--bird-close-transform-y)
    );
  }
}

.screen.animate .clouds {
  animation: cloudsIn 1.8s ease-out forwards;
}

.screen.animate .birdBg {
  animation: birdBgIn 1.8s ease-out forwards;
}

.screen.animate .birdClose {
  opacity: 0;
  animation: birdCloseIn 0.8s ease-out 1.8s forwards;
  pointer-events: auto;
}

.screen.animate .textBanner {
  opacity: 0;
  animation: fadeIn 0.7s ease-out 2.3s forwards;
  pointer-events: auto;
}
